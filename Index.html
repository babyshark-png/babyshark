<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiệm Bánh Cá Mập Con - Bánh Ngon Vui Nhộn!</title>
    <link rel="icon" href="asset/Image/shark-logo.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --primary-glow-color: rgba(0, 200, 255, 0.7); /* Ocean Blue Glow */
            --secondary-glow-color: rgba(255, 105, 180, 0.7); /* Coral Pink Glow */
            --bakery-cream: #FFF5E1;
            --bakery-brown: #A0522D;
            --ocean-blue-deep: #0A2463; 
            --ocean-blue-light: #3E92CC;
            --hero-title-blue: #00A9FF; /* Màu xanh biển cho tiêu đề hero */
            --coral-pink: #FF69B4;
            --shark-fin-grey: #8395A7;
            --section-bg-1: #03001C; 
            --section-bg-2: #10032B; 
            --header-hover-bg: rgba(255, 255, 255, 0.1);
            --header-active-underline: #FFD700; /* Màu vàng cho gạch chân active */
        }

        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; 
            background-color: var(--ocean-blue-deep); 
            color: var(--bakery-cream);
            scroll-behavior: smooth;
        }

        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }

        #hero-3d-background {
            position: absolute; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; 
            overflow: hidden;
        }
        .hero-content-container { 
            position: relative;
            z-index: 10;
        }

        @keyframes bounce-in { 
            0% { opacity: 0; transform: scale(0.3) translateY(-30px); }
            50% { opacity: 0.9; transform: scale(1.1); }
            80% { opacity: 1; transform: scale(0.89); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }
        .animate-bounce-in { animation: bounce-in 1s ease-out forwards; }

        @keyframes gentle-wave { 
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); } 
        }
        .animate-gentle-wave { animation: gentle-wave 2.5s ease-in-out infinite; }

        @keyframes sparkle { 
            0%, 100% { box-shadow: 0 0 8px #fef08a, 0 0 15px #fef08a, 0 0 20px #fde047; }
            50% { box-shadow: 0 0 15px #fde047, 0 0 25px #fde047, 0 0 35px #facc15; }
        }
        .btn-sparkle { animation: sparkle 1.5s infinite; }

        @keyframes gradientBackgroundBakery { 
            0% { background-position: 0% 50%; filter: hue-rotate(0deg) saturate(1.2); } 
            25% { background-position: 100% 25%; filter: hue-rotate(15deg) saturate(1.4); }
            50% { background-position: 0% 75%; filter: hue-rotate(0deg) saturate(1.2); }
            75% { background-position: 100% 100%; filter: hue-rotate(-15deg) saturate(1.4); } 
            100% { background-position: 0% 50%; filter: hue-rotate(0deg) saturate(1.2); } 
        }
        .animated-gradient-section { 
            background: linear-gradient(-70deg, var(--ocean-blue-light), var(--coral-pink), #FFDAB9, var(--ocean-blue-deep), #FFC0CB, #B0E0E6, var(--ocean-blue-light));
            background-size: 1000% 1000%; 
            animation: gradientBackgroundBakery 35s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite; 
        }

        @keyframes pulseBakery { 
            0%, 100% { transform: scale(1) rotate(0deg); box-shadow: 0 0 0 0 rgba(255,105,180, 0.7), 0 0 0 0 rgba(0,200,255, 0.5), 0 0 0 0 rgba(255,245,225,0.2); } 
            50% { transform: scale(1.1) rotate(1deg); box-shadow: 0 0 35px 18px rgba(255,105,180, 0), 0 0 55px 28px rgba(0,200,255, 0.2), 0 0 12px 6px rgba(255,245,225,0.1); } 
        }
        .animate-pulse-custom { animation: pulseBakery 3.5s infinite; } 

        .reveal-on-scroll { opacity: 0; transition: opacity 1.5s cubic-bezier(0.215, 0.610, 0.355, 1.1), transform 1.5s cubic-bezier(0.215, 0.610, 0.355, 1.1); will-change: opacity, transform; }
        .reveal-on-scroll.slide-in-left { transform: translateX(-120px) rotateY(20deg) scale(0.9); }
        .reveal-on-scroll.slide-in-right { transform: translateX(120px) rotateY(-20deg) scale(0.9); }
        .reveal-on-scroll.slide-in-up { transform: translateY(120px) scale(0.85) rotateX(-10deg); }
        .reveal-on-scroll.is-visible { opacity: 1; transform: translateX(0) translateY(0) rotateY(0deg) rotateX(0deg) scale(1); }
        
        .stylish-button-enhanced { 
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1.2); 
            will-change: transform, box-shadow; 
        }
        .stylish-button-enhanced:hover { 
            transform: translateY(-8px) scale(1.12) rotate(-1.5deg); 
            box-shadow: 0 20px 35px rgba(0,0,0,0.3), 0 0 18px rgba(255,255,255,0.3), 0 0 25px var(--coral-pink); 
        }
        .ripple { position: absolute; border-radius: 50%; background-image: linear-gradient(45deg, rgba(255,222,173,0.5), rgba(255,182,193,0.3)); transform: scale(0); animation: ripple-effect-bakery 0.9s cubic-bezier(0.19, 1, 0.22, 1); will-change: transform, opacity; }
        @keyframes ripple-effect-bakery { 
            0% { transform: scale(0); opacity: 1; }
            70% { transform: scale(5.5); opacity: 0.35; }
            100% { transform: scale(6); opacity: 0; }
        }
        
        .letter-reveal-bakery span { 
            opacity: 0; display: inline-block; 
            animation: revealLetterBakeryTheme 1.2s forwards; 
            transform-origin: 50% 50%;
            filter: blur(6px) brightness(0.6);
            will-change: opacity, transform, filter;
        }
        @keyframes revealLetterBakeryTheme {
            0% { opacity: 0; transform: translateY(60px) rotateX(-120deg) rotateY(30deg) scale(2.8); filter: blur(12px) brightness(0) contrast(4); }
            30% { opacity: 0.7; transform: translateY(15px) rotateX(-50deg) rotateY(10deg) scale(1.4); filter: blur(4px) brightness(0.8) contrast(1.8); }
            70% { opacity: 0.95; transform: translateY(-3px) rotateX(8deg) rotateY(-3deg) scale(0.95); filter: blur(0.5px) brightness(1) contrast(1.1); }
            100% { opacity: 1; transform: translateY(0) rotateX(0deg) rotateY(0deg) scale(1); filter: blur(0px) brightness(1) contrast(1); }
        }

        .ocean-glow-section {
            height: 100vh; background: #000515; 
            position: relative; overflow: hidden;
            display: flex; justify-content: center; align-items: center; text-align: center;
        }
        .ocean-glow-container {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            filter: blur(10px) contrast(18) saturate(1.8); 
            opacity: 0.9; 
        }
        .ocean-wave { 
            position: absolute; border-radius: 50%; opacity: 0;
            animation: oceanWavePulse 12s infinite ease-in-out;
            mix-blend-mode: screen; 
            will-change: opacity, transform;
        }
        @keyframes oceanWavePulse {
            0%, 100% { opacity: 0; transform: scale(0.4) rotate(0deg); }
            50% { opacity: 0.5; transform: scale(1.3) rotate(15deg); }
        }
        .ocean-wave-1 { background: radial-gradient(ellipse at center, var(--ocean-blue-light) 0%, #1E90FF 30%, transparent 70%); width: 90vw; height: 90vw; top: -30%; left: -30%; animation-delay: 0s; }
        .ocean-wave-2 { background: radial-gradient(ellipse at center, var(--coral-pink) 0%, #FF1493 30%, transparent 70%); width: 80vw; height: 80vw; top: 0%; left: 30%; animation-delay: -3s; }
        .ocean-wave-3 { background: radial-gradient(ellipse at center, #32CD32 0%, #2E8B57 30%, transparent 70%); width: 100vw; height: 100vw; top: 20%; left: -10%; animation-delay: -6s; } 
        .ocean-wave-4 { background: radial-gradient(ellipse at center, #FFD700 0%, #FFA500 30%, transparent 70%); width: 75vw; height: 75vw; top: -20%; left: 50%; animation-delay: -9s; } 
        
        .ocean-bubbles-container { 
            position: absolute; top:0; left:0; width:100%; height:100%;
            pointer-events: none; 
        }
        .bubble {
            position: absolute;
            background-color: rgba(173, 216, 230, 0.4); 
            border-radius: 50%;
            animation: rise 10s infinite ease-in;
            box-shadow: inset 0 -2px 4px rgba(255,255,255,0.5), inset 0 2px 4px rgba(0,0,0,0.1);
            will-change: transform, opacity;
        }
        @keyframes rise {
            0% { transform: translateY(100vh) scale(0.5) translateX(0px); opacity: 0; }
            10% { opacity: 1; }
            50% { transform: translateY(50vh) scale(1) translateX(calc(sin(var(--i) * 1rad) * 30px)); } 
            90% { opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.2) translateX(calc(sin(var(--i) * 2rad) * 50px)); opacity: 0; }
        }

        .interactive-cookie-section {
            background-color: var(--bakery-cream); 
            padding-top: 4rem; padding-bottom: 4rem;
         }
        .interactive-shape-shark { 
            width: 250px; height: 220px; 
            background: conic-gradient(from 180deg at 50% 70%, var(--shark-fin-grey) 0%, var(--ocean-blue-light) 25%, var(--bakery-cream) 50%, var(--coral-pink) 75%, var(--shark-fin-grey) 100%); 
            animation: morphShapeShark 10s infinite alternate cubic-bezier(0.68, -0.6, 0.32, 1.6), rotateBackgroundShark 12s infinite linear;
            border-radius: 50% 50% 20% 20% / 70% 70% 30% 30%; 
            transition: all 1s cubic-bezier(0.075, 0.82, 0.165, 1);
            cursor: pointer; 
            box-shadow: 0 25px 60px rgba(100,60,20,0.3), 0 0 30px var(--ocean-blue-light) inset, 0 0 15px var(--coral-pink); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
            position: relative; overflow: hidden; will-change: border-radius, transform, box-shadow;
        }
        @keyframes rotateBackgroundShark { from { background-position: 0% 0%; } to { background-position: 250% 250%; } }
        @keyframes morphShapeShark {
            0%, 100% { border-radius: 50% 50% 20% 20% / 70% 70% 30% 30%; transform: rotate(0deg) scale(1) skew(0deg, 0deg); filter: hue-rotate(0deg) saturate(1.5); }
            50% { border-radius: 40% 60% 30% 25% / 60% 80% 20% 40%; transform: rotate(10deg) scale(1.1) skew(-3deg, 2deg); filter: hue-rotate(30deg) saturate(1.8); }
        }
        .interactive-shape-shark:before { 
            content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(220,240,255,0.25) 0%, rgba(220,240,255,0) 60%);
            transform: rotate(0deg) scale(0.8);
            transition: transform 1.2s cubic-bezier(0.075, 0.82, 0.165, 1); will-change: transform;
        }
        .interactive-shape-shark:hover:before { transform: rotate(720deg) scale(1.8); opacity: 0.5; }
        .interactive-shape-shark:hover { 
            transform: scale(1.25) rotate(5deg) skew(-5deg, 3deg) !important; 
            box-shadow: 0 35px 70px rgba(0,100,150,0.4), 0 0 50px var(--coral-pink) inset, 0 0 25px var(--ocean-blue-light); 
            animation-play-state: paused; 
        }
        .shark-eye { width: 20px; height: 20px; background: white; border-radius: 50%; position: relative; margin: 5px; border: 2px solid #333;}
        .shark-pupil { width: 8px; height: 8px; background: #333; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);}

        .hero-title { font-size: 3.5rem; color: var(--hero-title-blue); }
        @media (max-width: 768px) { .hero-title { font-size: 3rem; } }
        @media (max-width: 480px) { .hero-title { font-size: 2.5rem; } }

        .section-container { width: 100%; max-width: 1200px; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
        .full-bleed-bg { width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw; }

        .header-nav-link {
            position: relative;
            padding: 0.5rem 0.25rem; 
            margin: 0 0.25rem; 
            color: white;
            transition: color 0.3s ease, transform 0.3s ease, background-color 0.3s ease; /* Thêm background-color vào transition */
            text-decoration: none;
            border-radius: 6px; 
        }
        .header-nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px; 
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--header-active-underline);
            transition: width 0.3s ease-in-out;
        }
        .header-nav-link:hover {
            color: var(--header-active-underline);
            transform: translateY(-2px);
            background-color: var(--header-hover-bg); 
        }
        .header-nav-link:hover::after {
            width: 75%; 
        }
        .header-nav-link.active-link { /* Class để đánh dấu link active */
            color: var(--header-active-underline);
            font-weight: 600; 
        }
        .header-nav-link.active-link::after {
             width: 75%;
        }
        
        /* Testimonial Card Styling */
        .testimonial-card {
            background-color: rgba(255, 255, 255, 0.05); /* Nền mờ hơn */
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--bakery-cream);
        }
        .testimonial-card img {
            border: 3px solid var(--coral-pink);
        }
        .testimonial-quote {
            font-style: italic;
            color: #E0E0E0; /* Màu chữ sáng hơn cho quote */
        }
        .testimonial-author {
            color: var(--coral-pink);
            font-weight: 600;
        }

    </style>
</head>

<body class="bg-sky-100 text-gray-800"> 

    <header class="bg-blue-500 shadow-lg sticky top-0 z-50">
        <div class="section-container py-3 px-4 md:px-6 flex justify-between items-center">
            <a href="Index.html" class="flex items-center space-x-2">
                <img src="asset/Image/shark-logo.png" alt="Logo Tiệm Bánh Cá Mập Con" class="h-16 md:h-20 rounded-lg transform transition-transform duration-300 hover:scale-110"> 
            </a>
            <nav class="hidden md:flex space-x-1"> 
                <a href="#home" class="header-nav-link active-link">Trang Chủ</a>
                <a href="maubanh.html" class="header-nav-link">Mẫu Bánh</a>
                <a href="#order" class="header-nav-link">Đặt Bánh</a>
                <a href="#contact" class="header-nav-link">Liên Hệ</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <div id="mobile-menu" class="md:hidden hidden bg-blue-500">
            <a href="#home" class="block text-white hover:text-yellow-300 transition duration-300 px-4 py-3 text-sm">Trang Chủ</a>
            <a href="maubanh.html" class="block text-white hover:text-yellow-300 transition duration-300 px-4 py-3 text-sm">Mẫu Bánh</a>
            <a href="#order" class="block text-white hover:text-yellow-300 transition duration-300 px-4 py-3 text-sm">Đặt Bánh</a>
            <a href="#contact" class="block text-white hover:text-yellow-300 transition duration-300 px-4 py-3 text-sm">Liên Hệ</a>
        </div>
    </header>

    <section id="home" class="min-h-screen flex flex-col items-center justify-center text-white relative overflow-hidden">
        <div id="hero-3d-background"></div> 
        <div class="hero-content-container section-container text-center py-16 md:py-24">
            <img src="asset/Image/shark-logo.png" alt="Logo Tiệm Bánh Cá Mập Con" class="mx-auto mb-6 h-28 w-auto md:h-36 rounded-lg shadow-xl animate-gentle-wave">
            <h1 class="hero-title font-pacifico mb-4 animate-bounce-in letter-reveal-bakery" style="color: var(--hero-title-blue); text-shadow: 0 2px 8px rgba(0,0,0,0.3);">Tiệm Bánh Cá Mập Con</h1>
            <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto text-gray-100" style="text-shadow: 1px 1px 3px rgba(0,0,0,0.5);">Mang đến những chiếc bánh thơm ngon, ngộ nghĩnh cho mọi khoảnh khắc đáng yêu!</p>
            <a href="#order" class="bg-yellow-400 hover:bg-yellow-500 text-blue-700 font-bold py-4 px-10 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg btn-sparkle stylish-button-enhanced relative overflow-hidden">
                Đặt Bánh Ngay!
                <span class="ripple-container"></span>
            </a>
        </div>
    </section>

    <section id="about-us" class="py-16 md:py-24 bg-opacity-80 bg-ocean-blue-deep relative z-10 animated-gradient-section">
        <div class="section-container text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-8 font-pacifico reveal-on-scroll slide-in-up" style="text-shadow: 0 2px 5px rgba(0,0,0,0.4);">Về Tiệm Bánh Cá Mập Con</h2>
            <div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
                <div class="md:w-1/3 reveal-on-scroll slide-in-left">
                    <img src="https://placehold.co/400x400/3E92CC/FFFFFF?text=Team+Cá+Mập&font=Pacifico" alt="Đội ngũ Tiệm Bánh Cá Mập Con" class="rounded-2xl shadow-2xl w-full h-auto object-cover">
                </div>
                <div class="md:w-2/3 text-left">
                    <p class="text-lg md:text-xl text-gray-200 mb-6 reveal-on-scroll slide-in-right" style="transition-delay: 0.1s;">
                        Chào mừng bạn đến với "Tiệm Bánh Cá Mập Con" - nơi những giấc mơ ngọt ngào về đại dương được hiện thực hóa qua từng chiếc bánh! Chúng tôi khởi đầu từ một niềm đam mê bất tận với nghệ thuật làm bánh và tình yêu với những sinh vật biển đáng yêu, đặc biệt là những chú cá mập con tinh nghịch.
                    </p>
                    <p class="text-lg md:text-xl text-gray-200 mb-6 reveal-on-scroll slide-in-right" style="transition-delay: 0.2s;">
                        Tại "Cá Mập Con", mỗi chiếc bánh không chỉ là sự kết hợp hoàn hảo của hương vị hảo hạng từ nguyên liệu tươi ngon nhất, mà còn là một tác phẩm nghệ thuật được chăm chút tỉ mỉ. Từ những chiếc bánh sinh nhật lộng lẫy mang hình dáng cá mập, những chiếc cupcake nhỏ xinh trang trí theo chủ đề biển cả, đến những set bánh sự kiện độc đáo – tất cả đều chứa đựng tâm huyết và sự sáng tạo không ngừng của đội ngũ chúng tôi.
                    </p>
                    <p class="text-lg md:text-xl text-gray-200 reveal-on-scroll slide-in-right" style="transition-delay: 0.3s;">
                        Chúng tôi tin rằng, một chiếc bánh ngon không chỉ để thưởng thức, mà còn để sẻ chia niềm vui và tạo nên những kỷ niệm khó phai. Hãy để "Cá Mập Con" đồng hành cùng bạn trong mọi khoảnh khắc đặc biệt nhé!
                    </p>
                </div>
            </div>
        </div>
    </section>


    <section id="about" class="py-16 md:py-24 bg-sky-50 relative z-10">
        <div class="section-container text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-blue-600 mb-8 font-pacifico reveal-on-scroll slide-in-up">Điều Gì Làm Nên Cá Mập Con?</h2>
            <p class="text-lg md:text-xl text-gray-700 max-w-3xl mx-auto mb-12 reveal-on-scroll slide-in-up" style="transition-delay: 0.1s;">
                Chúng tôi tự hào mang đến những sản phẩm và dịch vụ tốt nhất, với cam kết về chất lượng và sự sáng tạo không ngừng.
            </p>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-lg text-center reveal-on-scroll slide-in-left hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                    <img src="https://placehold.co/80x80/34D399/FFFFFF?text=🎂&font=noto" alt="Biểu tượng bánh kem tươi ngon" class="mx-auto mb-4 h-20 w-20">
                    <h3 class="text-2xl font-semibold text-blue-500 mb-2">Bánh Tươi Mỗi Ngày</h3>
                    <p class="text-md text-gray-600">Nguyên liệu tươi ngon, đảm bảo chất lượng và hương vị tuyệt hảo.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg text-center reveal-on-scroll slide-in-up hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300" style="transition-delay: 0.2s;">
                     <img src="https://placehold.co/80x80/F472B6/FFFFFF?text=🎨&font=noto" alt="Biểu tượng thiết kế sáng tạo" class="mx-auto mb-4 h-20 w-20">
                    <h3 class="text-2xl font-semibold text-pink-500 mb-2">Thiết Kế Sáng Tạo</h3>
                    <p class="text-md text-gray-600">Mẫu mã đa dạng, nhận thiết kế theo yêu cầu, độc đáo và cá tính.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg text-center reveal-on-scroll slide-in-right hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300" style="transition-delay: 0.3s;">
                    <img src="https://placehold.co/80x80/FBBF24/FFFFFF?text=🚚&font=noto" alt="Biểu tượng giao hàng nhanh" class="mx-auto mb-4 h-20 w-20">
                    <h3 class="text-2xl font-semibold text-yellow-500 mb-2">Giao Hàng Nhanh Chóng</h3>
                    <p class="text-md text-gray-600">Cam kết giao bánh đúng hẹn, giữ trọn vẹn hương vị và hình thức.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="ocean-magic-light" class="ocean-glow-section relative z-10">
        <div class="ocean-glow-container">
            <div class="ocean-wave ocean-wave-1"></div>
            <div class="ocean-wave ocean-wave-2"></div>
            <div class="ocean-wave ocean-wave-3"></div>
            <div class="ocean-wave ocean-wave-4"></div>
        </div>
        <div class="ocean-bubbles-container" id="ocean-bubbles-container-index"></div>
        <div class="relative z-20 p-10 section-container">
            <h2 class="text-5xl md:text-7xl font-black mb-10 text-white reveal-on-scroll slide-in-up" style="text-shadow: 0 0 25px rgba(255,255,255,0.8), 0 0 40px var(--ocean-blue-light);">
                Ánh Sáng <span style="color: #32CD32;">Đại Dương</span> <span style="color: #FFD700;">Kỳ Diệu</span>
            </h2>
            <p class="text-2xl md:text-3xl text-gray-200 reveal-on-scroll slide-in-up" style="transition-delay: 0.3s; font-weight: 300;">
                Một màn trình diễn ánh sáng và bong bóng nước lung linh, hòa quyện cùng âm thanh sóng biển êm dịu.
            </p>
            <button id="toggle-ocean-sound-index" class="mt-10 bg-transparent border-2 border-white text-white font-semibold py-3 px-8 rounded-lg hover:bg-white hover:text-black transition-all duration-300 stylish-button-enhanced relative overflow-hidden">
                <i class="fas fa-volume-mute mr-2"></i> Bật/Tắt Âm Thanh
                <span class="ripple-container"></span>
            </button>
        </div>
    </section>

    <section id="testimonials" class="py-16 md:py-24 bg-section-bg-2 relative z-10 animated-gradient-section">
        <div class="section-container text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-16 font-pacifico reveal-on-scroll slide-in-up" style="text-shadow: 0 2px 5px rgba(0,0,0,0.4);">Khách Hàng Nói Gì Về Chúng Tôi?</h2>
            <div class="grid md:grid-cols-3 gap-8 md:gap-10">
                <div class="testimonial-card p-8 rounded-2xl shadow-xl reveal-on-scroll slide-in-left">
                    <img src="https://placehold.co/100x100/FFC0CB/0A2463?text=KH1&font=Inter" alt="Khách hàng 1" class="w-24 h-24 rounded-full mx-auto mb-6 shadow-md">
                    <p class="testimonial-quote text-lg mb-4">"Bánh siêu ngon và đẹp mắt! Bé nhà mình thích mê chú cá mập. Sẽ ủng hộ tiệm dài dài!"</p>
                    <p class="testimonial-author">- Chị Lan Anh, Quận 1 -</p>
                </div>
                <div class="testimonial-card p-8 rounded-2xl shadow-xl reveal-on-scroll slide-in-up" style="transition-delay: 0.2s;">
                    <img src="https://placehold.co/100x100/B0E0E6/0A2463?text=KH2&font=Inter" alt="Khách hàng 2" class="w-24 h-24 rounded-full mx-auto mb-6 shadow-md">
                    <p class="testimonial-quote text-lg mb-4">"Dịch vụ rất chuyên nghiệp, bánh giao đúng hẹn và còn đẹp hơn cả hình mẫu. Highly recommend!"</p>
                    <p class="testimonial-author">- Anh Minh Tuấn, Quận 3 -</p>
                </div>
                <div class="testimonial-card p-8 rounded-2xl shadow-xl reveal-on-scroll slide-in-right" style="transition-delay: 0.4s;">
                    <img src="https://placehold.co/100x100/FFDAB9/0A2463?text=KH3&font=Inter" alt="Khách hàng 3" class="w-24 h-24 rounded-full mx-auto mb-6 shadow-md">
                    <p class="testimonial-quote text-lg mb-4">"Tiệm bánh có tâm nhất mình từng biết. Bánh không chỉ ngon mà còn rất ý nghĩa. Cảm ơn Cá Mập Con!"</p>
                    <p class="testimonial-author">- Bạn Thanh Mai, Gò Vấp -</p>
                </div>
            </div>
        </div>
    </section>

    <section id="interactive-cookie" class="interactive-cookie-section relative z-10">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-16 reveal-on-scroll slide-in-up text-gray-700" style="text-shadow: 0 0 10px var(--ocean-blue-light);">
                <span class="text-red-500">Chú Cá Mập</span> <span class="text-yellow-500">Bánh Quy</span> <span class="text-orange-500">Vui Nhộn</span>
            </h2>
            <div class="flex justify-center items-center reveal-on-scroll slide-in-up" style="transition-delay: 0.2s;">
                <div class="interactive-shape-shark">
                    <div class="flex">
                        <div class="shark-eye"><div class="shark-pupil"></div></div>
                        <div class="shark-eye"><div class="shark-pupil"></div></div>
                    </div>
                    <span class="text-white text-2xl md:text-3xl font-bold p-5 drop-shadow-xl mt-2">Ngon Lắm!</span>
                </div>
            </div>
             <p class="mt-12 text-lg md:text-xl text-gray-600 reveal-on-scroll slide-in-up" style="transition-delay: 0.4s; font-weight: 300;">
                Tương tác với chú cá mập bánh quy đáng yêu, xem chú thay đổi hình dạng và màu sắc.
            </p>
        </div>
    </section>

    <section id="order" class="py-16 md:py-24 bg-yellow-50 relative z-10">
        <div class="section-container">
            <h2 class="text-4xl md:text-5xl font-bold text-center text-yellow-700 mb-6 font-pacifico reveal-on-scroll slide-in-up">Đặt Bánh Ngay!</h2>
            <p class="text-center text-gray-600 mb-10 max-w-2xl mx-auto reveal-on-scroll slide-in-up" style="transition-delay: 0.1s;">
                Gửi cho chúng tôi hình ảnh mẫu bánh bạn yêu thích hoặc ý tưởng của bạn.
                Tiệm Bánh Cá Mập Con cam kết:
            </p>
            <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-10 mb-12 text-center">
                <div class="bg-yellow-100 p-6 rounded-lg shadow-md reveal-on-scroll slide-in-left" style="transition-delay: 0.2s;">
                    <p class="text-yellow-700 font-semibold text-lg"><span class="text-3xl mr-2">💬</span> Phản hồi tin nhắn trong <strong class="text-yellow-800">20 phút</strong></p>
                </div>
                <div class="bg-yellow-100 p-6 rounded-lg shadow-md reveal-on-scroll slide-in-right" style="transition-delay: 0.3s;">
                    <p class="text-yellow-700 font-semibold text-lg"><span class="text-3xl mr-2">⏱️</span> Hoàn thiện bánh trong <strong class="text-yellow-800">3 giờ</strong> (kể từ khi chốt đơn)</p>
                </div>
            </div>

            <form id="orderForm" class="max-w-xl mx-auto bg-white p-8 md:p-10 rounded-xl shadow-2xl reveal-on-scroll slide-in-up" style="transition-delay: 0.4s;">
                <div class="mb-6">
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Họ và Tên:</label>
                    <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" placeholder="Nguyễn Văn A">
                </div>
                <div class="mb-6">
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Số Điện Thoại:</label>
                    <input type="tel" id="phone" name="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" placeholder="09xxxxxxxx">
                </div>
                <div class="mb-6">
                    <label for="cakeImage" class="block text-sm font-medium text-gray-700 mb-1">Tải Lên Ảnh Mẫu Bánh (nếu có):</label>
                    <input type="file" id="cakeImage" name="cakeImage" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-yellow-100 file:text-yellow-700 hover:file:bg-yellow-200 transition duration-150">
                    <img id="imagePreview" src="#" alt="Xem trước ảnh mẫu bánh" class="hidden mt-4 max-h-48 rounded-lg mx-auto shadow"/>
                </div>
                <div class="mb-6">
                    <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Yêu Cầu Đặc Biệt:</label>
                    <textarea id="notes" name="notes" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" placeholder="Ví dụ: Bánh ít ngọt, thêm dâu tây, ghi chữ 'Chúc mừng sinh nhật Bé Na'"></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-10 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg stylish-button-enhanced relative overflow-hidden">
                        Gửi Yêu Cầu Đặt Bánh
                        <span class="ripple-container"></span>
                    </button>
                </div>
            </form>
            <div id="formMessage" class="mt-6 text-center"></div>
        </div>
    </section>

    <footer id="contact" class="full-bleed-bg bg-blue-600 text-white py-12 md:py-20 relative z-10">
        <div class="section-container text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 font-pacifico">Liên Hệ Với Chúng Tôi</h2>
            <img src="asset/Image/shark-logo.png" alt="Logo Tiệm Bánh Cá Mập Con ở footer" class="mx-auto mb-6 h-20 w-20 md:h-24 md:w-24 rounded-full shadow-lg border-2 border-white">
            <p class="mb-3 text-lg">Địa chỉ: 123 Đường Biển Xanh, Thành Phố Vui Vẻ, Việt Nam</p>
            <p class="mb-3 text-lg">Điện thoại: <a href="tel:0123456789" class="hover:text-yellow-300 transition-colors">0123-456-789</a></p>
            <p class="mb-8 text-lg">Email: <a href="mailto:hello@camapconbakery.com" class="hover:text-yellow-300 transition-colors">hello@camapconbakery.com</a></p>
            <div class="mb-8">
                <h4 class="text-xl font-semibold mb-3">Giờ Mở Cửa:</h4>
                <p>Thứ 2 - Thứ 7: 8:00 AM - 8:00 PM</p>
                <p>Chủ Nhật: 9:00 AM - 6:00 PM</p>
            </div>
            <div class="flex justify-center space-x-6 mb-8">
                <a href="#" aria-label="Facebook của Tiệm Bánh Cá Mập Con" class="text-white hover:text-yellow-300 transition duration-300 transform hover:scale-110">
                    <i class="fab fa-facebook fa-2x"></i>
                </a>
                <a href="#" aria-label="Instagram của Tiệm Bánh Cá Mập Con" class="text-white hover:text-yellow-300 transition duration-300 transform hover:scale-110">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
                <a href="#" aria-label="Tiktok của Tiệm Bánh Cá Mập Con" class="text-white hover:text-yellow-300 transition duration-300 transform hover:scale-110">
                     <i class="fab fa-tiktok fa-2x"></i>
                </a>
            </div>
            <div class="mb-8 reveal-on-scroll slide-in-up">
                <h4 class="text-xl font-semibold mb-3">Tìm Chúng Tôi Trên Bản Đồ:</h4>
                <div class="w-full max-w-md h-64 bg-gray-700 rounded-lg mx-auto flex items-center justify-center text-gray-400">
                    (Khu vực nhúng Google Maps)
                </div>
            </div>
            <p class="text-md text-blue-200">&copy; <span id="currentYear"></span> Tiệm Bánh Cá Mập Con. All Rights Reserved.</p>
            <p class="text-sm text-blue-300 mt-2">Website được thiết kế với <i class="fas fa-heart text-red-400"></i> bởi AI.</p>
        </div>
    </footer>

    <script>
        // Tone.js Polyfill
        if (typeof globalThis.AudioWorkletGlobalScope === 'undefined') globalThis.AudioWorkletGlobalScope = {};
        if (typeof globalThis.AudioWorkletProcessor === 'undefined') globalThis.AudioWorkletProcessor = class AudioWorkletProcessor {};

        document.addEventListener('DOMContentLoaded', () => {
            // --- HERO 3D BACKGROUND ---
            const hero3DBackground = document.getElementById('hero-3d-background');
            if (hero3DBackground && typeof THREE !== 'undefined') {
                let scene, camera, renderer, stars, nebulaParticles;
                let animationFrameId_Hero3D; // Khai báo ở đây để có thể truy cập trong observer

                function initHero3D() {
                    scene = new THREE.Scene();
                    const container = hero3DBackground.parentElement; 
                    if (!container) return;
                    const width = container.offsetWidth;
                    const height = container.offsetHeight;
                     if (width === 0 || height === 0) { 
                        setTimeout(initHero3D, 100);
                        return;
                    }

                    camera = new THREE.PerspectiveCamera(70, width / height, 0.1, 1500);
                    camera.position.z = 35; 

                    renderer = new THREE.WebGLRenderer({ alpha: true }); 
                    renderer.setSize(width, height);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); 
                    hero3DBackground.innerHTML = ''; 
                    hero3DBackground.appendChild(renderer.domElement);

                    const starGeometry = new THREE.BufferGeometry();
                    const starMaterial = new THREE.PointsMaterial({
                        color: 0xFFFFFF, size: 0.18, transparent: true, opacity: 0.85,
                        blending: THREE.AdditiveBlending, sizeAttenuation: true
                    });
                    const starVertices = [];
                    for (let i = 0; i < 10000; i++) { 
                        const x = (Math.random() - 0.5) * 1600;
                        const y = (Math.random() - 0.5) * 1600;
                        const z = (Math.random() - 0.5) * 1600;
                        starVertices.push(x, y, z);
                    }
                    starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
                    stars = new THREE.Points(starGeometry, starMaterial);
                    scene.add(stars);

                    const nebulaGeometry = new THREE.BufferGeometry();
                    const nebulaMaterial = new THREE.PointsMaterial({
                        size: 3.5, map: createOceanicNebulaTexture(), transparent: true,
                        blending: THREE.AdditiveBlending, depthWrite: false, opacity: 0.35
                    });
                    const nebulaVertices = [];
                    for (let i = 0; i < 200; i++) { 
                        const x = (Math.random() - 0.5) * 220;
                        const y = (Math.random() - 0.5) * 110;
                        const z = (Math.random() - 0.5) * 70 - 35; 
                        nebulaVertices.push(x, y, z);
                    }
                    nebulaGeometry.setAttribute('position', new THREE.Float32BufferAttribute(nebulaVertices, 3));
                    nebulaParticles = new THREE.Points(nebulaGeometry, nebulaMaterial);
                    scene.add(nebulaParticles);

                    window.addEventListener('resize', onHero3DResize, false);
                    // Không gọi animateHero3D() ở đây, observer sẽ làm
                }

                function createOceanicNebulaTexture() {
                    const canvas = document.createElement('canvas');
                    canvas.width = 128; canvas.height = 128;
                    const context = canvas.getContext('2d');
                    const gradient = context.createRadialGradient(64, 64, 0, 64, 64, 64);
                    gradient.addColorStop(0, 'rgba(0, 180, 255, 0.9)');    
                    gradient.addColorStop(0.3, 'rgba(255, 120, 190, 0.7)'); 
                    gradient.addColorStop(0.6, 'rgba(190, 230, 255, 0.5)'); 
                    gradient.addColorStop(1, 'rgba(0,0,0,0)');
                    context.fillStyle = gradient;
                    context.fillRect(0, 0, 128, 128);
                    return new THREE.CanvasTexture(canvas);
                }

                function onHero3DResize() {
                    if (!renderer || !camera || !hero3DBackground) return;
                    const container = hero3DBackground.parentElement;
                    if (!container) return;
                    const width = container.offsetWidth;
                    const height = container.offsetHeight;
                    if (width === 0 || height === 0) return;
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                    renderer.setSize(width, height);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                }

                let mouseX = 0, mouseY = 0;
                document.addEventListener('mousemove', (event) => {
                    mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                    mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
                });
                
                function animateHero3D() {
                    animationFrameId_Hero3D = requestAnimationFrame(animateHero3D);
                    if (!scene || !camera || !renderer) return; 

                    const time = Date.now() * 0.000035;

                    if(stars) { stars.rotation.y += 0.00007; stars.rotation.x += 0.00003; }
                    if(nebulaParticles) {
                        nebulaParticles.rotation.y += 0.00012;
                        nebulaParticles.material.opacity = 0.25 + Math.sin(time * 5.5) * 0.12; 
                    }
                    
                    camera.position.x += (mouseX * 3.5 - camera.position.x) * 0.02;
                    camera.position.y += (mouseY * 3.5 - camera.position.y) * 0.02;
                    camera.lookAt(scene.position);

                    renderer.render(scene, camera);
                }
                
                const heroElement = document.getElementById('home'); // Quan sát section hero
                if (heroElement) {
                    const heroObserver = new IntersectionObserver((entries) => {
                        if (entries[0].isIntersecting) {
                            if (!scene) initHero3D(); 
                            if (animationFrameId_Hero3D === undefined && scene) animateHero3D(); 
                        } else {
                            if (animationFrameId_Hero3D) {
                                cancelAnimationFrame(animationFrameId_Hero3D);
                                animationFrameId_Hero3D = undefined;
                            }
                        }
                    }, { threshold: 0.01 }); 
                    heroObserver.observe(heroElement);
                }
            }


            // --- OCEAN GLOW SOUND ---
            const toggleOceanSoundButton = document.getElementById('toggle-ocean-sound-index');
            let oceanAmbientSynth, oceanNoise, oceanFilter, oceanPanner, oceanReverb;
            let oceanSoundEnabled = false;
            let oceanSoundInterval;

            if (toggleOceanSoundButton && typeof Tone !== 'undefined') {
                function setupOceanSound() {
                    oceanAmbientSynth = new Tone.FatOscillator({ 
                        type: "sine", spread: 70, count: 4,
                        partials: [0.1, 1, 0.05, 0.4, 0.01] 
                    });
                    oceanAmbientSynth.volume.value = -32; 

                    const oceanEnv = new Tone.AmplitudeEnvelope({
                        attack: 6, decay: 2.5, sustain: 0.7, release: 7
                    }).toDestination(); 
                    oceanAmbientSynth.connect(oceanEnv);

                    oceanNoise = new Tone.Noise("brown").start(); 
                    oceanNoise.volume.value = -38;

                    oceanFilter = new Tone.AutoFilter({
                        frequency: "10m", baseFrequency: 80, octaves: 6, depth: 0.95
                    }).toDestination();
                    oceanNoise.connect(oceanFilter);

                    oceanPanner = new Tone.AutoPanner("0.8m").toDestination(); 
                    oceanAmbientSynth.connect(oceanPanner);

                    oceanReverb = new Tone.Reverb({ decay: 12, wet: 0.75 }).toDestination(); 
                    oceanAmbientSynth.connect(oceanReverb);
                    oceanFilter.connect(oceanReverb);
                }
                
                function playOceanSound() {
                    if (Tone.context.state !== 'running') Tone.start(); 
                    if (oceanAmbientSynth && oceanSoundEnabled) {
                        const notes = ["G1", "Bb1", "C2", "Eb2", "F2"]; 
                        const randomNote = notes[Math.floor(Math.random() * notes.length)];
                        oceanAmbientSynth.triggerAttackRelease(randomNote, "15m", Tone.now(), 0.65); 
                    }
                }

                toggleOceanSoundButton.addEventListener('click', async () => {
                    if (!oceanSoundEnabled) {
                        if (!oceanAmbientSynth) setupOceanSound(); 
                        await Tone.start(); 
                        if (Tone.context.state === 'running') {
                            oceanSoundEnabled = true;
                            toggleOceanSoundButton.innerHTML = '<i class="fas fa-water mr-2"></i> Tắt Âm Thanh Sóng Biển';
                            playOceanSound(); 
                            oceanSoundInterval = setInterval(playOceanSound, Math.random() * 22000 + 18000); 
                            if (oceanFilter && oceanFilter.state !== "started") oceanFilter.start(); 
                            if (oceanPanner && oceanPanner.state !== "started") oceanPanner.start();
                        }
                    } else {
                        oceanSoundEnabled = false;
                        toggleOceanSoundButton.innerHTML = '<i class="fas fa-volume-mute mr-2"></i> Bật Âm Thanh Sóng Biển';
                        if (oceanSoundInterval) clearInterval(oceanSoundInterval);
                        if (oceanAmbientSynth) oceanAmbientSynth.releaseAll();
                        if (oceanFilter && oceanFilter.state === "started") oceanFilter.stop(); 
                        if (oceanPanner && oceanPanner.state === "started") oceanPanner.stop();
                    }
                });
                const bubblesContainer = document.getElementById('ocean-bubbles-container-index'); 
                if (bubblesContainer) {
                    for (let i = 0; i < 25; i++) { 
                        const bubble = document.createElement('div');
                        bubble.classList.add('bubble');
                        const size = Math.random() * 18 + 4; 
                        bubble.style.width = `${size}px`;
                        bubble.style.height = `${size}px`;
                        bubble.style.left = `${Math.random() * 100}%`;
                        bubble.style.animationDuration = `${Math.random() * 7 + 6}s`; 
                        bubble.style.animationDelay = `${Math.random() * 4}s`;
                        bubble.style.setProperty('--i', i); 
                        bubblesContainer.appendChild(bubble);
                    }
                }
            }

            const letterRevealElements = document.querySelectorAll('.letter-reveal-bakery'); 
            letterRevealElements.forEach(el => {
                const text = el.textContent; 
                el.innerHTML = text.split('').map((char, i) => 
                    `<span style="animation-delay: ${i * 0.05 + 0.3}s">${char === ' ' ? '&nbsp;' : char}</span>`
                ).join('');
            });

            const scrollElements = document.querySelectorAll('.reveal-on-scroll');
            const elementInView = (el, percentageScroll = 100) => {
                const elementTop = el.getBoundingClientRect().top;
                return (elementTop <= (window.innerHeight || document.documentElement.clientHeight) * (percentageScroll/100));
            };
            const displayScrollElement = (element) => element.classList.add('is-visible');
            const handleScrollAnimation = () => {
                scrollElements.forEach((el) => {
                    if (elementInView(el, 75)) { displayScrollElement(el); } 
                });
            };
            handleScrollAnimation(); 
            window.addEventListener('scroll', handleScrollAnimation);

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // Active link highlighting and smooth scroll
            const navLinks = document.querySelectorAll('header nav a, #mobile-menu a');
            const sections = document.querySelectorAll('section[id]');

            function changeNavActiveState() {
                let index = sections.length;
                while(--index && window.scrollY + 100 < sections[index].offsetTop) {} // 100 là offset
                
                navLinks.forEach((link) => link.classList.remove('active-link'));
                // Tìm link tương ứng với section hiện tại
                const currentSectionId = sections[index] ? sections[index].id : null;
                if (currentSectionId) {
                    const activeLink = document.querySelector(`header nav a[href="#${currentSectionId}"], #mobile-menu a[href="#${currentSectionId}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active-link');
                    } else if (window.location.pathname.includes('Index.html') && currentSectionId === 'home') {
                        // Đặc biệt xử lý link "Trang Chủ" trên Index.html
                         const homeLink = document.querySelector('header nav a[href="#home"], #mobile-menu a[href="#home"]');
                         if(homeLink) homeLink.classList.add('active-link');
                    }
                } else if (window.location.pathname.includes('Index.html')) { // Nếu không có section nào active, và đang ở trang chủ
                     const homeLink = document.querySelector('header nav a[href="#home"], #mobile-menu a[href="#home"]');
                     if(homeLink) homeLink.classList.add('active-link');
                }
            }
            // Gọi lần đầu và khi cuộn
            changeNavActiveState();
            window.addEventListener('scroll', changeNavActiveState);


            navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    
                    if (mobileMenu && this.closest('#mobile-menu a')) { 
                         setTimeout(() => mobileMenu.classList.add('hidden'), 150); 
                    } else if (mobileMenu && !this.closest('#mobile-menu a') && !mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }

                    if (href.startsWith('#')) { 
                        const targetElement = document.querySelector(href);
                        if (targetElement) {
                            e.preventDefault();
                            targetElement.scrollIntoView({ behavior: 'smooth' });
                            // Cập nhật active link ngay lập tức (tùy chọn, vì scroll event cũng sẽ làm)
                            // navLinks.forEach(link => link.classList.remove('active-link'));
                            // this.classList.add('active-link');
                        }
                    } else if (href.includes('#') && 
                               (href.split('#')[0] === window.location.pathname.split('/').pop() || href.split('#')[0] === 'Index.html' || href.split('#')[0] === '')
                              ) {
                        const targetHash = href.substring(href.indexOf('#'));
                        const targetElement = document.querySelector(targetHash);
                        if (targetElement) {
                            e.preventDefault();
                            targetElement.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                });
            });

            const currentYearElement = document.getElementById('currentYear');
            if (currentYearElement) {
                currentYearElement.textContent = new Date().getFullYear();
            }
            
            const cakeImageInput = document.getElementById('cakeImage');
            const imagePreview = document.getElementById('imagePreview');
            if (cakeImageInput && imagePreview) {
                cakeImageInput.addEventListener('change', function(event) {
                    const file = event.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            imagePreview.src = e.target.result;
                            imagePreview.classList.remove('hidden');
                        }
                        reader.readAsDataURL(file);
                    } else {
                        imagePreview.src = "#";
                        imagePreview.classList.add('hidden');
                    }
                });
            }

            const orderForm = document.getElementById('orderForm');
            const formMessage = document.getElementById('formMessage');
            if (orderForm && formMessage) {
                orderForm.addEventListener('submit', function(event) {
                    event.preventDefault(); 
                    const nameInput = document.getElementById('name');
                    const phoneInput = document.getElementById('phone');
                    let name = nameInput ? nameInput.value : '';
                    let phone = phoneInput ? phoneInput.value : '';

                    if (!name || !phone) {
                        formMessage.innerHTML = '<p class="text-red-500">Vui lòng điền đầy đủ Họ Tên và Số Điện Thoại.</p>';
                        return;
                    }
                    formMessage.innerHTML = '<p class="text-green-600 font-semibold">Yêu cầu của bạn đã được gửi! Chúng tôi sẽ liên hệ lại sớm. Cảm ơn bạn đã tin tưởng Tiệm Bánh Cá Mập Con!</p>';
                    orderForm.reset(); 
                    if(imagePreview) {
                        imagePreview.src = "#";
                        imagePreview.classList.add('hidden'); 
                    }
                    setTimeout(() => { formMessage.innerHTML = ''; }, 5000);
                });
            }

            const stylishButtons = document.querySelectorAll('.stylish-button-enhanced, .btn-sparkle'); 
            stylishButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    if (e.target.closest('i')) return;

                    const rect = button.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const rippleContainer = button.querySelector('.ripple-container') || button; 
                    const ripple = document.createElement('span');
                    ripple.classList.add('ripple'); 
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    
                    const existingRipple = rippleContainer.querySelector('.ripple');
                    if(existingRipple) existingRipple.remove();
                    
                    rippleContainer.appendChild(ripple);
                    ripple.addEventListener('animationend', () => ripple.remove());
                });
            });

        });
    </script>
</body>
</html>
